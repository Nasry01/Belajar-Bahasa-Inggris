<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nasry's Grammar Lab</title>
    <style>
        :root { --primary: #2ecc71; --secondary: #3498db; --bg: #f5f6fa; --text: #2f3640; --success: #27ae60; --error: #e74c3c; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; margin: 0; padding: 20px; }
        .app-card { background: white; width: 100%; max-width: 550px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 40px; text-align: center; }
        .title-container { border-bottom: 2px solid #f1f2f6; padding-bottom: 20px; margin-bottom: 30px; }
        .main-title { font-size: 1.8rem; color: #2980b9; margin: 0; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .setup-group { margin-bottom: 20px; text-align: left; max-width: 350px; margin-left: auto; margin-right: auto; }
        .setup-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #34495e; font-size: 0.9rem; }
        select { width: 100%; padding: 12px; border: 2px solid #dcdde1; border-radius: 8px; font-size: 1rem; outline: none; background: white; }
        .level-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
        .btn-lvl { padding: 12px; border: 2px solid #dcdde1; border-radius: 8px; background: white; cursor: pointer; font-weight: 600; transition: 0.3s; }
        .btn-lvl:hover { border-color: var(--secondary); color: var(--secondary); background: #f0f7ff; }
        .hidden { display: none; }
        .q-text { font-size: 1.4rem; font-weight: 700; margin-bottom: 25px; color: var(--text); text-align: left; }
        .option { display: block; width: 100%; padding: 15px; margin-bottom: 12px; border: 2px solid #f1f2f6; border-radius: 10px; text-align: left; cursor: pointer; background: white; font-size: 1rem; }
        .feedback { padding: 20px; border-radius: 12px; margin-top: 20px; text-align: left; line-height: 1.6; }
        .correct-box { background: #e8f8f0; border: 2px solid var(--success); color: #1e5631; }
        .wrong-box { background: #fff5f5; border: 2px solid var(--error); color: #822727; }
        .highlight { color: var(--success); font-weight: bold; }
        .btn-next { width: 100%; margin-top: 20px; padding: 16px; border: none; background: #5f27cd; color: white; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 1.1rem; }
        .score-big { font-size: 4rem; font-weight: 800; color: var(--secondary); margin: 20px 0; }
        .footer-credit { margin-top: 30px; color: #bdc3c7; font-size: 0.9rem; }
        .footer-credit a { color: #bdc3c7; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

<div class="app-card">
    <div id="menu-screen">
        <div class="title-container"><h1 class="main-title">Nasry's Grammar Lab ðŸ“–</h1></div>
        <p style="color: #7f8c8d; margin-bottom: 25px;">Atur jumlah soal acak yang ingin Anda kerjakan.</p>
        <div class="setup-group">
            <label>JUMLAH SOAL:</label>
            <select id="num-questions">
                <option value="2">2 Soal</option><option value="5">5 Soal</option><option value="10">10 Soal</option>
                <option value="20">20 Soal</option><option value="30">30 Soal</option><option value="50">50 Soal</option>
            </select>
        </div>
        <div class="setup-group">
            <label>PILIH TINGKAT KESULITAN:</label>
            <div class="level-grid">
                <button class="btn-lvl" onclick="startQuiz('Beginner')">ðŸŒ± Beginner</button>
                <button class="btn-lvl" onclick="startQuiz('Intermediate')">ðŸŒ¿ Intermediate</button>
            </div>
        </div>
        <div class="footer-credit">Created by <a href="https://instagram.com/mafinnasry_">@mafinnasry_</a></div>
    </div>

    <div id="quiz-screen" class="hidden">
        <div id="progress" style="text-align: right; color: #bdc3c7; margin-bottom: 10px; font-weight: bold;"></div>
        <p class="q-text" id="q-text"></p>
        <div id="options-container"></div>
        <div id="feedback" class="feedback hidden"></div>
        <button id="next-btn" class="btn-next hidden" onclick="nextQuestion()">Soal Selanjutnya</button>
    </div>

    <div id="result-screen" class="hidden">
        <h2>Latihan Selesai! ðŸŽ‰</h2>
        <div class="score-big" id="final-pct">0%</div>
        <p id="final-desc"></p>
        <button class="btn-next" onclick="location.reload()">Coba Lagi</button>
        <div class="footer-credit">Created by @mafinnasry_</div>
    </div>
</div>

<script>
    const soundCorrect = new Audio('https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3');
    const soundWrong = new Audio('https://assets.mixkit.co/active_storage/sfx/2013/2013-preview.mp3');
    
    const bankSoal = {
        'Beginner': [
            { q: "I ___ a student.", options: ["is", "am", "are"], correct: 1, exp: "Subjek 'I' menggunakan <span class='highlight'>am</span>." },
            { q: "You ___ my best friend.", options: ["is", "am", "are"], correct: 2, exp: "Subjek 'You' menggunakan <span class='highlight'>are</span>." },
            { q: "She ___ (like) pizza.", options: ["like", "likes", "liking"], correct: 1, exp: "Subjek tunggal 'She' mendapat tambahan <span class='highlight'>s</span> pada kata kerja." },
            { q: "They ___ playing football.", options: ["is", "am", "are"], correct: 2, exp: "Subjek jamak 'They' menggunakan <span class='highlight'>are</span>." },
            { q: "He ___ a new car.", options: ["have", "has", "having"], correct: 1, exp: "Subjek 'He' menggunakan <span class='highlight'>has</span>." },
            { q: "We ___ hungry.", options: ["is", "am", "are"], correct: 2, exp: "Subjek jamak 'We' menggunakan <span class='highlight'>are</span>." },
            { q: "It ___ a beautiful day.", options: ["is", "am", "are"], correct: 0, exp: "Subjek 'It' menggunakan <span class='highlight'>is</span>." },
            { q: "I ___ (not) like coffee.", options: ["do", "does", "am"], correct: 0, exp: "Subjek 'I' menggunakan <span class='highlight'>do</span> not." },
            { q: "___ she speak English?", options: ["Do", "Does", "Is"], correct: 1, exp: "Kalimat tanya untuk 'She' menggunakan <span class='highlight'>Does</span>." },
            { q: "Look! The baby ___.", options: ["sleep", "is sleeping", "sleeps"], correct: 1, exp: "Sedang berlangsung menggunakan <span class='highlight'>is + V-ing</span>." },
            { q: "There ___ a pen on the desk.", options: ["is", "am", "are"], correct: 0, exp: "Satu benda menggunakan <span class='highlight'>is</span>." },
            { q: "There ___ many birds.", options: ["is", "am", "are"], correct: 2, exp: "Banyak benda menggunakan <span class='highlight'>are</span>." },
            { q: "This is ___ apple.", options: ["a", "an", "the"], correct: 1, exp: "Kata berawalan vokal (a,e,i,o,u) menggunakan <span class='highlight'>an</span>." },
            { q: "That is ___ book.", options: ["a", "an", "the"], correct: 0, exp: "Kata berawalan konsonan menggunakan <span class='highlight'>a</span>." },
            { q: "I go to school ___ 7 AM.", options: ["in", "at", "on"], correct: 1, exp: "Waktu jam menggunakan <span class='highlight'>at</span>." },
            { q: "My birthday is ___ October.", options: ["in", "at", "on"], correct: 0, exp: "Nama bulan menggunakan <span class='highlight'>in</span>." },
            { q: "The meeting is ___ Monday.", options: ["in", "at", "on"], correct: 2, exp: "Nama hari menggunakan <span class='highlight'>on</span>." },
            { q: "I have two ___.", options: ["child", "childrens", "children"], correct: 2, exp: "Jamak dari child adalah <span class='highlight'>children</span>." },
            { q: "She is ___ than her sister.", options: ["tall", "taller", "tallest"], correct: 1, exp: "Perbandingan menggunakan <span class='highlight'>taller</span>." },
            { q: "This is the ___ building.", options: ["big", "bigger", "biggest"], correct: 2, exp: "Paling besar menggunakan <span class='highlight'>biggest</span>." },
            { q: "Whose is this? It's ___.", options: ["my", "me", "mine"], correct: 2, exp: "Kata ganti milik adalah <span class='highlight'>mine</span>." },
            { q: "I ___ (watch) TV yesterday.", options: ["watch", "watched", "watching"], correct: 1, exp: "Lampau (V2) menggunakan <span class='highlight'>watched</span>." },
            { q: "We ___ (go) to Bali last week.", options: ["go", "went", "gone"], correct: 1, exp: "V2 dari go adalah <span class='highlight'>went</span>." },
            { q: "I can ___ swimming.", options: ["go", "goes", "going"], correct: 0, exp: "Setelah modal (can) gunakan kata kerja dasar." },
            { q: "___ you help me?", options: ["Can", "Do", "Are"], correct: 0, exp: "Menanyakan kemampuan/bantuan menggunakan <span class='highlight'>Can</span>." },
            { q: "This ___ his house.", options: ["is", "am", "are"], correct: 0, exp: "Singular menggunakan <span class='highlight'>is</span>." },
            { q: "Where ___ you from?", options: ["is", "am", "are"], correct: 2, exp: "You menggunakan <span class='highlight'>are</span>." },
            { q: "I ___ (see) him two days ago.", options: ["see", "saw", "seen"], correct: 1, exp: "Dua hari lalu (lampau) menggunakan <span class='highlight'>saw</span>." },
            { q: "They ___ not here.", options: ["is", "am", "are"], correct: 2, exp: "They menggunakan <span class='highlight'>are</span>." },
            { q: "Is ___ your phone?", options: ["this", "these", "those"], correct: 0, exp: "Satu benda (is) menggunakan <span class='highlight'>this</span>." },
            { q: "Are ___ your books?", options: ["this", "that", "these"], correct: 2, exp: "Banyak benda (are) menggunakan <span class='highlight'>these</span>." },
            { q: "I want ___ water.", options: ["a", "some", "any"], correct: 1, exp: "Kalimat positif benda tak hitung menggunakan <span class='highlight'>some</span>." },
            { q: "Do you have ___ questions?", options: ["some", "any", "a"], correct: 1, exp: "Kalimat tanya/negatif menggunakan <span class='highlight'>any</span>." },
            { q: "She ___ (not) have a car.", options: ["do", "does", "is"], correct: 1, exp: "She menggunakan <span class='highlight'>does</span>." },
            { q: "We ___ (buy) a gift tomorrow.", options: ["will buy", "bought", "buys"], correct: 0, exp: "Besok (future) menggunakan <span class='highlight'>will buy</span>." },
            { q: "I ___ my homework now.", options: ["do", "am doing", "did"], correct: 1, exp: "Sekarang (now) menggunakan <span class='highlight'>am doing</span>." },
            { q: "The sun ___ in the east.", options: ["rise", "rises", "rising"], correct: 1, exp: "Fakta umum menggunakan <span class='highlight'>rises</span>." },
            { q: "Cats ___ mice.", options: ["catch", "catches", "catching"], correct: 0, exp: "Jamak menggunakan kata dasar <span class='highlight'>catch</span>." },
            { q: "___ he a teacher?", options: ["Is", "Am", "Are"], correct: 0, exp: "He menggunakan <span class='highlight'>Is</span>." },
            { q: "This cake smells ___.", options: ["good", "well", "best"], correct: 0, exp: "Sense verb menggunakan adjective <span class='highlight'>good</span>." },
            { q: "I sing ___.", options: ["good", "well", "better"], correct: 1, exp: "Menjelaskan cara kerja menggunakan adverb <span class='highlight'>well</span>." },
            { q: "How ___ is this book?", options: ["many", "much", "long"], correct: 1, exp: "Menanyakan harga menggunakan <span class='highlight'>much</span>." },
            { q: "How ___ pens do you have?", options: ["many", "much", "any"], correct: 0, exp: "Benda dapat dihitung menggunakan <span class='highlight'>many</span>." },
            { q: "He is ___ (old) than me.", options: ["old", "older", "oldest"], correct: 1, exp: "Perbandingan menggunakan <span class='highlight'>older</span>." },
            { q: "I ___ (be) at home last night.", options: ["am", "was", "were"], correct: 1, exp: "Past 'I' adalah <span class='highlight'>was</span>." },
            { q: "They ___ (be) happy yesterday.", options: ["was", "were", "are"], correct: 1, exp: "Past 'They' adalah <span class='highlight'>were</span>." },
            { q: "She always ___ (study) hard.", options: ["study", "studies", "studying"], correct: 1, exp: "She menggunakan <span class='highlight'>studies</span>." },
            { q: "I ___ (forget) my umbrella.", options: ["forget", "forgot", "forgotten"], correct: 1, exp: "Lampau menggunakan <span class='highlight'>forgot</span>." },
            { q: "Please listen ___ me.", options: ["at", "to", "on"], correct: 1, exp: "Berpasangan dengan <span class='highlight'>to</span>." },
            { q: "We are proud ___ you.", options: ["of", "at", "to"], correct: 0, exp: "Berpasangan dengan <span class='highlight'>of</span>." }
        ],
        'Intermediate': [
            { q: "If I ___ you, I would go to the doctor.", options: ["am", "was", "were"], correct: 2, exp: "Conditional type 2 menggunakan <span class='highlight'>were</span> untuk pengandaian." },
            { q: "The car ___ (repair) right now.", options: ["is repairing", "is being repaired", "repairs"], correct: 1, exp: "Pasif continuous: <span class='highlight'>is being + V3</span>." },
            { q: "She has been working here ___ 2010.", options: ["for", "since", "during"], correct: 1, exp: "Menunjukkan titik waktu awal menggunakan <span class='highlight'>since</span>." },
            { q: "I've lived in Jakarta ___ ten years.", options: ["for", "since", "ago"], correct: 0, exp: "Menunjukkan durasi waktu menggunakan <span class='highlight'>for</span>." },
            { q: "By the time I arrived, the train ___.", options: ["has left", "had left", "left"], correct: 1, exp: "Past Perfect (<span class='highlight'>had + V3</span>) untuk aksi yang selesai sebelum aksi lain di masa lalu." },
            { q: "I wish I ___ more money.", options: ["have", "has", "had"], correct: 2, exp: "Wish untuk masa sekarang menggunakan <span class='highlight'>had</span> (Past Tense)." },
            { q: "This is the man ___ car was stolen.", options: ["who", "whom", "whose"], correct: 2, exp: "Menunjukkan kepemilikan menggunakan <span class='highlight'>whose</span>." },
            { q: "I'm not used to ___ up so early.", options: ["get", "getting", "got"], correct: 1, exp: "Be used to diikuti oleh <span class='highlight'>V-ing</span>." },
            { q: "You ___ better see a doctor.", options: ["had", "would", "should"], correct: 0, exp: "Saran kuat menggunakan idiom <span class='highlight'>had</span> better." },
            { q: "Neither Sarah ___ Jane likes to cook.", options: ["or", "nor", "and"], correct: 1, exp: "Pasangan dari neither adalah <span class='highlight'>nor</span>." },
            { q: "He denied ___ the money.", options: ["to steal", "stealing", "stolen"], correct: 1, exp: "Deny diikuti oleh <span class='highlight'>V-ing</span> (gerund)." },
            { q: "I look forward to ___ you soon.", options: ["meet", "meeting", "met"], correct: 1, exp: "Look forward to diikuti oleh <span class='highlight'>V-ing</span>." },
            { q: "The cake, ___ my mom made, is delicious.", options: ["which", "who", "whom"], correct: 0, exp: "Relative pronoun untuk benda adalah <span class='highlight'>which</span>." },
            { q: "If it ___ tomorrow, we will cancel the trip.", options: ["rain", "rains", "will rain"], correct: 1, exp: "Conditional Type 1: If + <span class='highlight'>Simple Present</span>." },
            { q: "I would have passed if I ___ harder.", options: ["studied", "had studied", "study"], correct: 1, exp: "Conditional Type 3: If + <span class='highlight'>had + V3</span>." },
            { q: "She told me that she ___ busy.", options: ["is", "was", "will be"], correct: 1, exp: "Reported speech: present berubah menjadi <span class='highlight'>was</span> (past)." },
            { q: "The letter ___ (send) yesterday.", options: ["was send", "was sent", "is sent"], correct: 1, exp: "Passive Past Tense: <span class='highlight'>was + V3</span>." },
            { q: "I am interested ___ learning French.", options: ["in", "at", "on"], correct: 0, exp: "Interested selalu berpasangan dengan <span class='highlight'>in</span>." },
            { q: "Despite ___ ill, he went to work.", options: ["be", "being", "been"], correct: 1, exp: "Despite diikuti oleh <span class='highlight'>V-ing</span> atau noun." },
            { q: "He is capable ___ doing the job.", options: ["of", "to", "in"], correct: 0, exp: "Capable berpasangan dengan <span class='highlight'>of</span>." },
            { q: "I'd rather ___ at home tonight.", options: ["stay", "staying", "to stay"], correct: 0, exp: "Would rather diikuti oleh <span class='highlight'>bare infinitive</span> (V1)." },
            { q: "It's time we ___ home.", options: ["go", "went", "going"], correct: 1, exp: "It's time + subjek + <span class='highlight'>V2</span>." },
            { q: "Hardly ___ I started, when it rained.", options: ["had", "did", "have"], correct: 0, exp: "Inversi: Hardly + <span class='highlight'>had</span> + S + V3." },
            { q: "She succeeded ___ passing the exam.", options: ["in", "at", "on"], correct: 0, exp: "Succeed berpasangan dengan <span class='highlight'>in</span>." },
            { q: "I suggest ___ a break.", options: ["taking", "to take", "take"], correct: 0, exp: "Suggest diikuti oleh <span class='highlight'>V-ing</span>." },
            { q: "Unless you ___ harder, you'll fail.", options: ["study", "don't study", "will study"], correct: 0, exp: "Unless bermakna 'jika tidak', maka diikuti <span class='highlight'>Simple Present</span> positif." },
            { q: "I remember ___ her at the party.", options: ["see", "seeing", "to see"], correct: 1, exp: "Remember + <span class='highlight'>V-ing</span> untuk kenangan masa lalu." },
            { q: "He made me ___ my room.", options: ["clean", "to clean", "cleaning"], correct: 0, exp: "Make + object + <span class='highlight'>V1</span> (causative)." },
            { q: "The news ___ very shocking.", options: ["is", "are", "were"], correct: 0, exp: "News dianggap benda tunggal (singular), gunakan <span class='highlight'>is</span>." },
            { q: "Each of the students ___ a book.", options: ["have", "has", "having"], correct: 1, exp: "Each selalu dianggap tunggal, gunakan <span class='highlight'>has</span>." },
            { q: "I'm looking for the boy ___ broke the window.", options: ["who", "which", "whose"], correct: 0, exp: "Relative pronoun untuk orang sebagai subjek adalah <span class='highlight'>who</span>." },
            { q: "Do you mind ___ the window?", options: ["open", "to open", "opening"], correct: 2, exp: "Do you mind diikuti oleh <span class='highlight'>V-ing</span>." },
            { q: "It was such ___ boring movie.", options: ["a", "an", "the"], correct: 0, exp: "Such + <span class='highlight'>a/an</span> + adjective + noun." },
            { q: "I don't know ___ to do.", options: ["that", "what", "which"], correct: 1, exp: "Kata tanya sebagai penghubung: <span class='highlight'>what</span> to do." },
            { q: "He works ___ a teacher.", options: ["as", "like", "how"], correct: 0, exp: "Menjelaskan profesi menggunakan <span class='highlight'>as</span>." },
            { q: "She is used to ___ in a cold climate.", options: ["live", "living", "lived"], correct: 1, exp: "Be used to + <span class='highlight'>V-ing</span>." },
            { q: "I'll call you as soon as I ___.", options: ["arrive", "will arrive", "arrived"], correct: 0, exp: "As soon as dalam konteks masa depan menggunakan <span class='highlight'>Simple Present</span>." },
            { q: "This house ___ (build) in 1990.", options: ["built", "was built", "was building"], correct: 1, exp: "Pasif masa lampau: <span class='highlight'>was + V3</span>." },
            { q: "You don't need to bring anything, ___ you?", options: ["do", "don't", "need"], correct: 0, exp: "Question tag negatif (don't) menjadi positif (<span class='highlight'>do</span>)." },
            { q: "He said he ___ (finish) the report.", options: ["finished", "had finished", "finishes"], correct: 1, exp: "Reported speech: Past menjadi <span class='highlight'>had finished</span>." },
            { q: "I'm so tired; I ___ all day.", options: ["worked", "have been working", "work"], correct: 1, exp: "Present Perfect Continuous untuk aksi yang berdurasi sampai sekarang." },
            { q: "___ the rain, we went out.", options: ["In spite of", "Although", "But"], correct: 0, exp: "In spite of diikuti oleh kata benda (<span class='highlight'>the rain</span>)." },
            { q: "She is the girl ___ I told you about.", options: ["who", "whom", "whose"], correct: 1, exp: "Relative pronoun sebagai objek adalah <span class='highlight'>whom</span>." },
            { q: "By next year, I ___ from university.", options: ["graduate", "will have graduated", "graduated"], correct: 1, exp: "Future Perfect: <span class='highlight'>will have + V3</span>." },
            { q: "I'll let you ___ my car.", options: ["borrow", "to borrow", "borrowing"], correct: 0, exp: "Let + object + <span class='highlight'>V1</span>." },
            { q: "Neither of them ___ ready.", options: ["is", "are", "were"], correct: 0, exp: "Neither dianggap tunggal, gunakan <span class='highlight'>is</span>." },
            { q: "The more you study, the ___ you get.", options: ["smart", "smarter", "smartest"], correct: 1, exp: "Double comparative: the more... <span class='highlight'>the smarter</span>." },
            { q: "I am tired ___ waiting.", options: ["of", "with", "at"], correct: 0, exp: "Tired berpasangan dengan <span class='highlight'>of</span>." },
            { q: "If only I ___ her name!", options: ["know", "knew", "known"], correct: 1, exp: "If only untuk penyesalan saat ini menggunakan <span class='highlight'>V2</span>." },
            { q: "He is the ___ student in the class.", options: ["more clever", "cleverer", "most clever"], correct: 2, exp: "Superlatif menggunakan <span class='highlight'>most clever</span> atau cleverest." }
        ]
    };

    let questions = []; let currentIdx = 0; let score = 0;

    function startQuiz(lvl) {
        const count = parseInt(document.getElementById('num-questions').value);
        questions = bankSoal[lvl].sort(() => 0.5 - Math.random()).slice(0, count);
        document.getElementById('menu-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        loadQuestion();
    }

    function loadQuestion() {
        const data = questions[currentIdx];
        document.getElementById('progress').innerText = `${currentIdx + 1} / ${questions.length}`;
        document.getElementById('q-text').innerText = data.q;
        document.getElementById('feedback').classList.add('hidden');
        document.getElementById('next-btn').classList.add('hidden');
        const container = document.getElementById('options-container'); container.innerHTML = '';
        data.options.forEach((opt, i) => {
            const btn = document.createElement('button'); btn.className = 'option'; btn.innerText = opt;
            btn.onclick = () => check(i); container.appendChild(btn);
        });
    }

    function check(idx) {
        const data = questions[currentIdx]; const fb = document.getElementById('feedback'); fb.classList.remove('hidden');
        const btns = document.querySelectorAll('.option'); btns.forEach(b => b.style.pointerEvents = 'none');
        if(idx === data.correct) {
            score++; soundCorrect.play(); fb.className = "feedback correct-box";
            fb.innerHTML = `<b style="color:var(--success)">âœ“ Benar!</b><br>${data.exp}`;
            btns[idx].style.borderColor = "var(--success)";
        } else {
            soundWrong.play(); fb.className = "feedback wrong-box";
            fb.innerHTML = `<b style="color:var(--error)">âœ— Salah.</b><br>${data.exp}`;
            btns[idx].style.borderColor = "var(--error)";
            btns[data.correct].style.borderColor = "var(--success)"; btns[data.correct].style.background = "#e8f8f0";
        }
        document.getElementById('next-btn').classList.remove('hidden');
    }

    function nextQuestion() {
        currentIdx++;
        if(currentIdx < questions.length) loadQuestion(); else showResult();
    }

    function showResult() {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        const pct = Math.round((score / questions.length) * 100);
        document.getElementById('final-pct').innerText = pct + "%";
        document.getElementById('final-desc').innerText = `Skor: ${score} benar dari ${questions.length} soal.`;
    }
</script>
</body>
</html>
